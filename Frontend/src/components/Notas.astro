<!-- Notas.astro -->

---
const fetchData = async () => {
  try {
    const response = await fetch('http://127.0.0.1:8000/notes/1/');
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error fetching data:', error);
    return [];
  }
};

const notas = await fetchData();
---

<div class="max-w-md mx-auto">
  {notas.length > 0 ? (
    notas.map((nota, index) => (
      <div class="border border-white p-4 mb-4 rounded-lg">
        <p class="text-xl font-bold">TÃ­tulo: {nota.header}</p>
        <p class="text-gray-300">Cuerpo: {nota.body}</p>
        <p class="text-gray-300">Tags: {nota.tags.join(', ')}</p>
      </div>
    ))
  ) : (
    <p class="text-gray-700">No hay notas disponibles.</p>
  )}
</div>

